{"version":3,"sources":["assets\\Script\\common\\Tank.js"],"names":["TagOfDirection","cc","Enum","up","right","down","left","Class","Component","ctor","moveSpeed","fireSpeed","stopAttack","onGuard","isBlocked","canMove","adjustErr","is_fire","is_enemy","live","is_shield","tank_level","tank_hong","onLoad","map","vv","Global","game","getComponent","start","moveUp","node","angle","p","getPosition","box","getBoundingBox","toP","v2","x","y","height","checkPoint","collisionTanks","width","changeSkin","moveDown","moveLeft","moveRight","onFire","_this","Audio","playFire","direction","data","speed","destroy","position","add","sub","bullet","instantiate","bullet_prefab","init","parent","addChild","bullet_arr","push","changeTankValue","skin","tank_skin_arr","apply","tank_1","tank_2","tank_3","tank_4","tank_hong_1","tank_hong_2","tank_hong_3","tank_hong_4","tank_4_1","tank_4_2","tank_4_3","Sprite","spriteFrame"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\nvar TagOfDirection = cc.Enum({\r\n    up : 0,\r\n    right : 1,\r\n    down : 2,\r\n    left : 3,\r\n})\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    ctor(){\r\n        this.moveSpeed = 1.75\r\n        this.fireSpeed = 4.375\r\n        this.stopAttack = false\r\n        this.onGuard = false\r\n        this.isBlocked = true\r\n        this.canMove = true\r\n        this.adjustErr = 4.375\r\n\r\n        this.is_fire = false\r\n        this.is_enemy = false\r\n        this.live = 1\r\n        this.is_shield = false\r\n        this.tank_level = 1 // basic fast power armor\r\n        this.tank_hong = false\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.map = cc.vv.Global.game.map.getComponent('game_map')\r\n    },\r\n\r\n    start () {\r\n        this.map = cc.vv.Global.game.map.getComponent('game_map')\r\n    },\r\n\r\n    moveUp:function () {\r\n        // this.enemy.setRotation(90 * TagOfDirection.up);\r\n        this.node.angle = -90 * TagOfDirection.up\r\n        // cc.log(\"tank moved up!\");\r\n        // if (this.isBlocked) {\r\n        //     return;\r\n        // }\r\n        if (!this.canMove) {\r\n            return;\r\n        }\r\n        // this.collisionSups();\r\n        var p = this.node.getPosition();\r\n        var box = this.node.getBoundingBox();\r\n        var toP = cc.v2(p.x, p.y + box.height / 2 + 1);\r\n        // boundary detect\r\n        if (p.y + box.height / 2 + 1 > 728/*this.mapLayer.topBoundary*/) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // top\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // topLeft\r\n        toP = cc.v2(p.x - box.width / 2 + this.adjustErr, p.y + box.height / 2 + 4 + 1);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // top and 1/3 left\r\n        toP = cc.v2(p.x - box.width / 3, p.y + box.height / 2 + 4 + 1);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // topRight\r\n        toP = cc.v2(p.x + box.width / 2 - this.adjustErr, p.y + box.height / 2 + 4 + 1);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // top and 1/3 right\r\n        toP = cc.v2(p.x + box.width / 3, p.y + box.height / 2 + 4 + 1);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        this.node.y = p.y + this.moveSpeed;\r\n        this.changeSkin()\r\n    },\r\n\r\n    moveDown:function () {\r\n        // this.enemy.setRotation(90 * TagOfDirection.down);\r\n        this.node.angle = -90 * TagOfDirection.down\r\n        // cc.log(\"tank moved down!\");\r\n        // if (this.isBlocked) {\r\n        //     return;\r\n        // }\r\n        if (!this.canMove) {\r\n            return;\r\n        }\r\n        // this.collisionSups();\r\n        var p = this.node.getPosition();\r\n        var box = this.node.getBoundingBox();\r\n        var toP = cc.v2(p.x, p.y - box.height / 2 - 1);\r\n        // boundary detect\r\n        if (p.y - box.height / 2 - 1 < 0) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // bottom\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // bottomLeft\r\n        toP = cc.v2(p.x - box.width / 2 + this.adjustErr, p.y - box.height / 2 - 4 - 1);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // // bottom and 1/3 left\r\n        toP = cc.v2(p.x - box.width / 3, p.y - box.height / 2 - 4 - 1);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // // bottomRight\r\n        toP = cc.v2(p.x + box.width / 2 - this.adjustErr, p.y - box.height / 2 - 4 - 1);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // // bottom and 1/3 right\r\n        toP = cc.v2(p.x + box.width / 3, p.y - box.height / 2 - 4 - 1);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        this.node.y = p.y - this.moveSpeed;\r\n        this.changeSkin()\r\n    },\r\n\r\n    moveLeft:function () {\r\n        // this.enemy.setRotation(90 * TagOfDirection.left);\r\n        this.node.angle = -90 * TagOfDirection.left\r\n        // cc.log(\"tank moved left!\");\r\n        // if (this.isBlocked) {\r\n        //     return;\r\n        // }\r\n        if (!this.canMove) {\r\n            return;\r\n        }\r\n        // this.collisionSups();\r\n        var p = this.node.getPosition();\r\n        var box = this.node.getBoundingBox();\r\n        var toP = cc.v2(p.x - box.width / 2 - 1, p.y);\r\n        // boundary detect\r\n        if (p.x - box.height / 2 - 1 /*- this.mapLayer.leftBoundary*/ < 0) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // // left\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // // bottomLeft\r\n        toP = cc.v2(p.x - box.width / 2 - 4 - 1, p.y - box.height / 2 + this.adjustErr);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // // left and 1/3 bottom\r\n        toP = cc.v2(p.x - box.width / 2 - 4  - 1, p.y - box.height / 3);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // topLeft\r\n        toP = cc.v2(p.x - box.width / 2 - 4 - 1, p.y + box.height / 2 - this.adjustErr);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // // left and 1/3 top\r\n        toP = cc.v2(p.x - box.width / 2 - 4 - 1, p.y + box.height / 3);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        this.node.x = p.x - this.moveSpeed;\r\n        this.changeSkin()\r\n    },\r\n\r\n    moveRight:function(){\r\n        // this.enemy.setRotation(90 * TagOfDirection.right);\r\n        this.node.angle = -90 * TagOfDirection.right\r\n        // cc.log(\"tank moved right!\");\r\n        // if (this.isBlocked) {\r\n        //     return;\r\n        // }\r\n        if (!this.canMove) {\r\n            return;\r\n        }\r\n        // this.collisionSups();\r\n        var p = this.node.getPosition();\r\n        var box = this.node.getBoundingBox();\r\n        var toP = cc.v2(p.x + box.width / 2 + 1, p.y);\r\n        // boundary detect\r\n        if (p.x + box.height / 2 + 1 > 728 /*this.mapLayer.rightBoundary*/) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // // Right\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // bottomRight\r\n        toP = cc.v2(p.x + box.width / 2 + 4 + 1, p.y - box.height / 2 + this.adjustErr);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // // Right and 1/3 bottom\r\n        toP = cc.v2(p.x + box.width / 2 + 4 + 1, p.y - box.height / 3);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // // topRight\r\n        toP = cc.v2(p.x + box.width / 2 + 4 + 1, p.y + box.height / 2 - this.adjustErr);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        // Right and 1/3 top\r\n        toP = cc.v2(p.x + box.width / 2 + 4 + 1, p.y + box.height / 3);\r\n        if (this.map.checkPoint(toP) || this.map.collisionTanks(toP)) {\r\n            this.isBlocked = true;\r\n            return;\r\n        }\r\n        this.node.x = p.x + this.moveSpeed;\r\n        this.changeSkin()\r\n    },\r\n\r\n    onFire(){\r\n        if (this.is_fire) return\r\n        if (!this.is_enemy){\r\n            cc.vv.Audio.playFire()\r\n        }\r\n        this.is_fire = true\r\n        let direction = -this.node.angle / 90\r\n        let data = {\r\n            map : this.map,\r\n            direction : -this.node.angle / 90,\r\n            speed : this.fireSpeed,\r\n            is_enemy : this.is_enemy,\r\n            destroy : ()=>{\r\n                this.is_fire = false\r\n            }\r\n        }\r\n        let p = this.node.position\r\n        // up\r\n        if (direction == 0){\r\n            p = p.add(cc.v2(0, this.node.height*0.5))\r\n        }\r\n        // right\r\n        else if (direction == 1){\r\n            p = p.add(cc.v2(this.node.height*0.5, 0))\r\n        }\r\n        // down\r\n        else if (direction == 2){\r\n            p = p.sub(cc.v2(0, this.node.height*0.5))\r\n        }\r\n        // left\r\n        else if (direction == 3){\r\n            p = p.sub(cc.v2(this.node.height*0.5, 0))\r\n        }\r\n        let bullet = cc.instantiate(cc.vv.Global.game.bullet_prefab)\r\n        bullet.position = p//this.node.position.add(cc.v2(0, this.node.height*0.5))\r\n        bullet.getComponent('bullet').init(data)\r\n        this.node.parent.addChild(bullet,-1)\r\n        cc.vv.Global.game.bullet_arr.push(bullet)\r\n    },\r\n\r\n    changeTankValue(){\r\n        if (!this.node.skin){\r\n            this.node.skin = 0\r\n        }\r\n        // this.node.skin = 1 - this.node.skin\r\n        let tank_skin_arr = []\r\n        if (!this.is_enemy){\r\n            if (this.tank_level == 1){\r\n                tank_skin_arr.push(...this.tank_1)\r\n            }\r\n            else if (this.tank_level == 2){\r\n                tank_skin_arr.push(...this.tank_2)\r\n            }\r\n            else if (this.tank_level == 3){\r\n                tank_skin_arr.push(...this.tank_3)\r\n            }\r\n            else if (this.tank_level == 4){\r\n                tank_skin_arr.push(...this.tank_4)\r\n            }\r\n        }\r\n        else {\r\n            if (this.tank_level == 1){\r\n                if (this.tank_hong){\r\n                    tank_skin_arr.push(...this.tank_hong_1)\r\n                }\r\n                else {\r\n                    tank_skin_arr.push(...this.tank_1)\r\n                }\r\n            }\r\n            else if (this.tank_level == 2){\r\n                if (this.tank_hong){\r\n                    tank_skin_arr.push(...this.tank_hong_2)\r\n                }\r\n                else {\r\n                    tank_skin_arr.push(...this.tank_2)\r\n                }\r\n            }\r\n            else if (this.tank_level == 3){\r\n                if (this.tank_hong){\r\n                    tank_skin_arr.push(...this.tank_hong_3)\r\n                }\r\n                else {\r\n                    tank_skin_arr.push(...this.tank_3)\r\n                }\r\n            }\r\n            else if (this.tank_level == 4){\r\n                if (this.tank_hong){\r\n                    tank_skin_arr.push(...this.tank_hong_4)\r\n                }\r\n                else {\r\n                    if (this.live == 1){\r\n                        tank_skin_arr.push(...this.tank_4_1)\r\n                    }\r\n                    else if (this.live == 2){\r\n                        tank_skin_arr.push(...this.tank_4_2)\r\n                    }\r\n                    else if (this.live == 3){\r\n                        tank_skin_arr.push(...this.tank_4_3)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.node.getComponent(cc.Sprite).spriteFrame = tank_skin_arr[this.node.skin]\r\n        if (!this.is_enemy){\r\n            if (this.tank_level == 1){\r\n                this.node.width = 45.25\r\n                this.node.height = 43.5\r\n            }\r\n            else if (this.tank_level == 2){\r\n                this.node.width = 45.25\r\n                this.node.height = 52.25\r\n            }\r\n            else if (this.tank_level == 3){\r\n                this.node.width = 45.25\r\n                this.node.height = 52.25\r\n            }\r\n            else if (this.tank_level == 4){\r\n                this.node.width = 48.75\r\n                this.node.height = 52.25\r\n            }\r\n        }\r\n    },\r\n\r\n    changeSkin(){\r\n        if (!this.node.skin){\r\n            this.node.skin = 0\r\n        }\r\n        this.node.skin = 1 - this.node.skin\r\n        let tank_skin_arr = []\r\n        if (!this.is_enemy){\r\n            if (this.tank_level == 1){\r\n                tank_skin_arr.push(...this.tank_1)\r\n            }\r\n            else if (this.tank_level == 2){\r\n                tank_skin_arr.push(...this.tank_2)\r\n            }\r\n            else if (this.tank_level == 3){\r\n                tank_skin_arr.push(...this.tank_3)\r\n            }\r\n            else if (this.tank_level == 4){\r\n                tank_skin_arr.push(...this.tank_4)\r\n            }\r\n        }\r\n        else {\r\n            if (this.tank_level == 1){\r\n                if (this.tank_hong){\r\n                    tank_skin_arr.push(...this.tank_hong_1)\r\n                }\r\n                else {\r\n                    tank_skin_arr.push(...this.tank_1)\r\n                }\r\n            }\r\n            else if (this.tank_level == 2){\r\n                if (this.tank_hong){\r\n                    tank_skin_arr.push(...this.tank_hong_2)\r\n                }\r\n                else {\r\n                    tank_skin_arr.push(...this.tank_2)\r\n                }\r\n            }\r\n            else if (this.tank_level == 3){\r\n                if (this.tank_hong){\r\n                    tank_skin_arr.push(...this.tank_hong_3)\r\n                }\r\n                else {\r\n                    tank_skin_arr.push(...this.tank_3)\r\n                }\r\n            }\r\n            else if (this.tank_level == 4){\r\n                if (this.tank_hong){\r\n                    tank_skin_arr.push(...this.tank_hong_4)\r\n                }\r\n                else {\r\n                    if (this.live == 1){\r\n                        tank_skin_arr.push(...this.tank_4_1)\r\n                    }\r\n                    else if (this.live == 2){\r\n                        tank_skin_arr.push(...this.tank_4_2)\r\n                    }\r\n                    else if (this.live == 3){\r\n                        tank_skin_arr.push(...this.tank_4_3)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.node.getComponent(cc.Sprite).spriteFrame = tank_skin_arr[this.node.skin]\r\n        if (!this.is_enemy){\r\n            if (this.tank_level == 1){\r\n                this.node.width = 45.25\r\n                this.node.height = 43.5\r\n            }\r\n            else if (this.tank_level == 2){\r\n                this.node.width = 45.25\r\n                this.node.height = 52.25\r\n            }\r\n            else if (this.tank_level == 3){\r\n                this.node.width = 45.25\r\n                this.node.height = 52.25\r\n            }\r\n            else if (this.tank_level == 4){\r\n                this.node.width = 48.75\r\n                this.node.height = 52.25\r\n            }\r\n        }\r\n    },\r\n});\r\n"]}