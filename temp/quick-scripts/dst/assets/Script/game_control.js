
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Script/game_control.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '11824pMynhAV7W8pS04qStz', 'game_control');
// Script/game_control.js

"use strict";

// Learn cc.Class:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html
//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html
// Learn Attribute:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var TagOfDirection = cc.Enum({
  up: 0,
  right: 1,
  down: 2,
  left: 3,
  no: 4
});
cc.Class({
  "extends": cc.Component,
  properties: {
    // game_map: cc.Node,
    game_maps: cc.Node,
    direction: cc.Node,
    fire_btn: cc.Node,
    game_info: cc.Node,
    shield_prefab: cc.Prefab,
    appear_prefab: cc.Prefab,
    bullet_prefab: cc.Prefab,
    enemy_tank_prefab: cc.Prefab,
    player_tank_prefab: cc.Prefab,
    fire_flower_prefab: cc.Prefab,
    props_prefab: cc.Prefab,
    game_map_prefab: cc.Prefab,
    toast: cc.Prefab,
    game_result: cc.Prefab,
    game_over: cc.Prefab,
    game_stage: cc.Prefab,
    point_prefab: cc.Prefab
  },
  // LIFE-CYCLE CALLBACKS:
  // onLoad () {},
  start: function start() {
    cc.vv.Global.game = this;
    this.startGame();
  },
  startGame: function startGame() {
    cc.vv.Global.stage_info = cc.vv.Config.stage['stage_' + cc.vv.UserInfo.level]();
    cc.vv.Global.die_tank = {
      tank_1: 0,
      tank_2: 0,
      tank_3: 0,
      tank_4: 0
    };
    cc.vv.Global.tieqiao_time = null;
    cc.vv.Global.dinglei_time = null;
    this.is_pause = true;
    this.is_over = true;
    this.is_enemy_tank_pause = false;
    this.is_show_over = false;
    this.props = null;
    this.player_direction = TagOfDirection.no;
    this.enemy_index = 0;
    this.enemy_tank_arr = [];
    this.bullet_arr = [];
    this.frame_count = 0;
    cc.vv.Global.enemy_count = 20;
    this.game_maps.destroyAllChildren();
    this.game_map = cc.instantiate(this.game_map_prefab);
    this.game_maps.addChild(this.game_map);
    this.map = this.game_map.getComponent('game_map');
    this.map.initMap();
    if (this.player) {
      cc.vv.UserInfo.live++;
      var data = {
        moveSpeed: this.player.moveSpeed,
        fireSpeed: this.player.fireSpeed,
        tank_level: this.player.tank_level
      };
      this.player = this.map.initPlayer(data);
      this.player_direction = TagOfDirection.no;
    }
    this.initView();
    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);
    cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);
    var result = cc.instantiate(this.game_stage);
    this.node.addChild(result);
  },
  initView: function initView() {
    var x = 0;
    var y = 0;
    var enemys = this.game_info.getChildByName('enemys');
    // let ip = this.game_info.getChildByName('ip')
    // let live_tank = this.game_info.getChildByName('live_tank')
    var live_count = this.game_info.getChildByName('live_count');
    // let flag = this.game_info.getChildByName('flag')
    var level = this.game_info.getChildByName('level');
    x = /* (cc.winSize.width - this.game_map.width) / 4 +*/this.game_map.width / 2 + 30;
    y = cc.winSize.height / 2 - 5;
    for (var i = 0; i < enemys.childrenCount; i++) {
      // if (i%2==0){
      //     y -= 15
      // }
      // let temp_x = x
      // if (i%2==1){
      //     temp_x -= 8
      // }
      // else {
      //     temp_x += 8
      // }
      var enemy = enemys.children[i];
      // enemy.position = cc.v2(temp_x, y)
      enemy.active = false;
    }
    for (var _i = 0; _i < cc.vv.Global.enemy_count; _i++) {
      var _enemy = enemys.children[_i];
      _enemy.active = true;
    }
    y = 15;
    // ip.position = cc.v2(x, y)
    // live_tank.position = cc.v2(x-10, y-20)
    // live_count.position = cc.v2(x+10, y-20)

    // flag.position = cc.v2(x, y-60)
    // level.position = cc.v2(x+10, y-80)

    x = (cc.winSize.width - this.game_map.width) / 4 + this.game_map.width / 2;
    y = cc.winSize.height * 0.25;
    // this.direction.position = cc.v2(-x, -y)
    // this.fire_btn.position = cc.v2(x, -y)

    live_count.getComponent(cc.Label).string = cc.vv.UserInfo.live;
    level.getComponent(cc.Label).string = cc.vv.UserInfo.level;
  },
  initTank: function initTank() {
    if (!this.player) {
      var data = {
        moveSpeed: 1.2,
        fireSpeed: 3,
        tank_level: 3
      };
      this.player = this.map.initPlayer();
      this.player_direction = TagOfDirection.no;
    }
    if (this.enemy_tank_arr.length < 4) {
      this.enemy_tank_arr.push(this.map.initEnemy());
    }
  },
  onClickBack: function onClickBack() {
    cc.director.loadScene('home_scene');
  },
  checkBullet: function checkBullet() {
    for (var i = 0; i < this.bullet_arr.length; i++) {
      if (!this.bullet_arr[i].isValid) {
        this.bullet_arr.splice(i, 1);
        i--;
      }
    }
  },
  checkEnemyTank: function checkEnemyTank() {
    for (var i = 0; i < this.enemy_tank_arr.length; i++) {
      if (!this.enemy_tank_arr[i] || !this.enemy_tank_arr[i].node || !this.enemy_tank_arr[i].node.isValid) {
        this.enemy_tank_arr.splice(i, 1);
        i--;
      }
    }
  },
  checkPlayerTank: function checkPlayerTank() {
    if (!this.player || !this.player.node || !this.player.node.isValid) {
      this.player = null;
    }
  },
  onKeyDown: function onKeyDown(event) {
    if (!this.player || !this.player.node || !this.player.node.isValid) {
      return;
    }
    switch (event.keyCode) {
      case cc.macro.KEY.space:
        this.player.onFire();
        break;
      case cc.macro.KEY.left:
        this.player_direction = TagOfDirection.left;
        break;
      case cc.macro.KEY.down:
        this.player_direction = TagOfDirection.down;
        break;
      case cc.macro.KEY.right:
        this.player_direction = TagOfDirection.right;
        break;
      case cc.macro.KEY.up:
        this.player_direction = TagOfDirection.up;
        break;
    }
  },
  onKeyUp: function onKeyUp(event) {
    if (!this.player || !this.player.node || !this.player.node.isValid) {
      return;
    }
    this.player_direction = TagOfDirection.no;
  },
  update: function update(dt) {
    var _this = this;
    if (this.is_pause) return;
    this.frame_count++;
    this.initView();
    this.initTank();
    this.checkBullet();
    this.checkEnemyTank();
    this.checkPlayerTank();

    // 铁锹 -- Hết thời gian của chức năng xẻng - Tòa thành ko phá vỡ
    if (cc.vv.Global.tieqiao_time) {
      var time = new Date().getTime();
      if ((time - cc.vv.Global.tieqiao_time) / 1000 >= 15) {
        this.map.bg2.node.active = false;
        cc.vv.Global.tieqiao_time = null;
      } else if ((time - cc.vv.Global.tieqiao_time) / 1000 >= 10) {
        if (this.frame_count % 20 == 0) {
          this.map.bg2.node.active = !this.map.bg2.node.active;
          this.map.repairHome();
        }
      } else {
        this.map.bg2.node.active = true;
      }
    }
    // 定雷 -- nhặt được cái đồng hồ - enemy đứng lại hết
    if (cc.vv.Global.dinglei_time) {
      this.is_enemy_tank_pause = true;
      var _time = new Date().getTime();
      if ((_time - cc.vv.Global.dinglei_time) / 1000 >= 10) {
        cc.vv.Global.dinglei_time = null;
        this.is_enemy_tank_pause = false;
      }
    }

    // 游戏结束 -- thua
    if (this.is_over && !this.is_show_over) {
      this.is_show_over = true;
      var data = {
        text: 'GAME OVER',
        state: 1
      };
      var toast = cc.instantiate(this.toast);
      this.node.addChild(toast);
      toast.getComponent('toast').init(data);
    }
    // 胜利 -- thắng
    if (this.enemy_tank_arr.length == 0 && cc.vv.Global.enemy_count <= 0 && !this.is_show_over) {
      this.is_show_over = true;
      this.is_over = true;
      this.scheduleOnce(function () {
        var data = {
          status: 1
        };
        var result = cc.instantiate(_this.game_result);
        _this.node.addChild(result);
        result.getComponent('game_result').init(data);
      }, 5);
    }
    if (this.player && this.player.node.active) {
      if (this.player_direction == TagOfDirection.up) {
        this.player.moveUp();
      } else if (this.player_direction == TagOfDirection.right) {
        this.player.moveRight();
      } else if (this.player_direction == TagOfDirection.down) {
        this.player.moveDown();
      } else if (this.player_direction == TagOfDirection.left) {
        this.player.moveLeft();
      }
    }
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcU2NyaXB0XFxnYW1lX2NvbnRyb2wuanMiXSwibmFtZXMiOlsiVGFnT2ZEaXJlY3Rpb24iLCJjYyIsIkVudW0iLCJ1cCIsInJpZ2h0IiwiZG93biIsImxlZnQiLCJubyIsIkNsYXNzIiwiQ29tcG9uZW50IiwicHJvcGVydGllcyIsImdhbWVfbWFwcyIsIk5vZGUiLCJkaXJlY3Rpb24iLCJmaXJlX2J0biIsImdhbWVfaW5mbyIsInNoaWVsZF9wcmVmYWIiLCJQcmVmYWIiLCJhcHBlYXJfcHJlZmFiIiwiYnVsbGV0X3ByZWZhYiIsImVuZW15X3RhbmtfcHJlZmFiIiwicGxheWVyX3RhbmtfcHJlZmFiIiwiZmlyZV9mbG93ZXJfcHJlZmFiIiwicHJvcHNfcHJlZmFiIiwiZ2FtZV9tYXBfcHJlZmFiIiwidG9hc3QiLCJnYW1lX3Jlc3VsdCIsImdhbWVfb3ZlciIsImdhbWVfc3RhZ2UiLCJwb2ludF9wcmVmYWIiLCJzdGFydCIsInZ2IiwiR2xvYmFsIiwiZ2FtZSIsInN0YXJ0R2FtZSIsInN0YWdlX2luZm8iLCJDb25maWciLCJzdGFnZSIsIlVzZXJJbmZvIiwibGV2ZWwiLCJkaWVfdGFuayIsInRhbmtfMSIsInRhbmtfMiIsInRhbmtfMyIsInRhbmtfNCIsInRpZXFpYW9fdGltZSIsImRpbmdsZWlfdGltZSIsImlzX3BhdXNlIiwiaXNfb3ZlciIsImlzX2VuZW15X3RhbmtfcGF1c2UiLCJpc19zaG93X292ZXIiLCJwcm9wcyIsInBsYXllcl9kaXJlY3Rpb24iLCJlbmVteV9pbmRleCIsImVuZW15X3RhbmtfYXJyIiwiYnVsbGV0X2FyciIsImZyYW1lX2NvdW50IiwiZW5lbXlfY291bnQiLCJkZXN0cm95QWxsQ2hpbGRyZW4iLCJnYW1lX21hcCIsImluc3RhbnRpYXRlIiwiYWRkQ2hpbGQiLCJtYXAiLCJnZXRDb21wb25lbnQiLCJpbml0TWFwIiwicGxheWVyIiwibGl2ZSIsImRhdGEiLCJtb3ZlU3BlZWQiLCJmaXJlU3BlZWQiLCJ0YW5rX2xldmVsIiwiaW5pdFBsYXllciIsImluaXRWaWV3Iiwic3lzdGVtRXZlbnQiLCJvbiIsIlN5c3RlbUV2ZW50IiwiRXZlbnRUeXBlIiwiS0VZX0RPV04iLCJvbktleURvd24iLCJLRVlfVVAiLCJvbktleVVwIiwicmVzdWx0Iiwibm9kZSIsIngiLCJ5IiwiZW5lbXlzIiwiZ2V0Q2hpbGRCeU5hbWUiLCJsaXZlX2NvdW50Iiwid2lkdGgiLCJ3aW5TaXplIiwiaGVpZ2h0IiwiaSIsImNoaWxkcmVuQ291bnQiLCJlbmVteSIsImNoaWxkcmVuIiwiYWN0aXZlIiwiTGFiZWwiLCJzdHJpbmciLCJpbml0VGFuayIsImxlbmd0aCIsInB1c2giLCJpbml0RW5lbXkiLCJvbkNsaWNrQmFjayIsImRpcmVjdG9yIiwibG9hZFNjZW5lIiwiY2hlY2tCdWxsZXQiLCJpc1ZhbGlkIiwic3BsaWNlIiwiY2hlY2tFbmVteVRhbmsiLCJjaGVja1BsYXllclRhbmsiLCJldmVudCIsImtleUNvZGUiLCJtYWNybyIsIktFWSIsInNwYWNlIiwib25GaXJlIiwidXBkYXRlIiwiZHQiLCJfdGhpcyIsInRpbWUiLCJEYXRlIiwiZ2V0VGltZSIsImJnMiIsInJlcGFpckhvbWUiLCJ0ZXh0Iiwic3RhdGUiLCJpbml0Iiwic2NoZWR1bGVPbmNlIiwic3RhdHVzIiwibW92ZVVwIiwibW92ZVJpZ2h0IiwibW92ZURvd24iLCJtb3ZlTGVmdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJQSxjQUFjLEdBQUdDLEVBQUUsQ0FBQ0MsSUFBSSxDQUFDO0VBQ3pCQyxFQUFFLEVBQUcsQ0FBQztFQUNOQyxLQUFLLEVBQUcsQ0FBQztFQUNUQyxJQUFJLEVBQUcsQ0FBQztFQUNSQyxJQUFJLEVBQUcsQ0FBQztFQUNSQyxFQUFFLEVBQUc7QUFDVCxDQUFDLENBQUM7QUFHRk4sRUFBRSxDQUFDTyxLQUFLLENBQUM7RUFDTCxXQUFTUCxFQUFFLENBQUNRLFNB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LGdCQUFnQixJQUFJcEQsY0FBYyxDQUFDTSxJQUFJLEVBQUM7UUFDbEQsSUFBSSxDQUFDMkQsTUFBTSxDQUFDbUUsUUFBUSxFQUFFO01BQzFCO0lBQ0o7RUFDSjtBQUNKLENBQUMsQ0FBQyIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gY2MuQ2xhc3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9jbGFzcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vZG9jcy5jb2NvczJkLXgub3JnL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9jbGFzcy5odG1sXHJcbi8vIExlYXJuIEF0dHJpYnV0ZTpcclxuLy8gIC0gW0NoaW5lc2VdIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly9kb2NzLmNvY29zMmQteC5vcmcvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIFtDaGluZXNlXSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbi8vICAtIFtFbmdsaXNoXSBodHRwczovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxudmFyIFRhZ09mRGlyZWN0aW9uID0gY2MuRW51bSh7XHJcbiAgICB1cCA6IDAsXHJcbiAgICByaWdodCA6IDEsXHJcbiAgICBkb3duIDogMixcclxuICAgIGxlZnQgOiAzLFxyXG4gICAgbm8gOiA0LFxyXG59KVxyXG5cclxuXHJcbmNjLkNsYXNzKHtcclxuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgLy8gZ2FtZV9tYXA6IGNjLk5vZGUsXHJcbiAgICAgICAgZ2FtZV9tYXBzOiBjYy5Ob2RlLFxyXG4gICAgICAgIGRpcmVjdGlvbjogY2MuTm9kZSxcclxuICAgICAgICBmaXJlX2J0bjogY2MuTm9kZSxcclxuICAgICAgICBnYW1lX2luZm86IGNjLk5vZGUsXHJcblxyXG4gICAgICAgIHNoaWVsZF9wcmVmYWI6IGNjLlByZWZhYixcclxuICAgICAgICBhcHBlYXJfcHJlZmFiOiBjYy5QcmVmYWIsXHJcbiAgICAgICAgYnVsbGV0X3ByZWZhYjogY2MuUHJlZmFiLFxyXG4gICAgICAgIGVuZW15X3RhbmtfcHJlZmFiOiBjYy5QcmVmYWIsXHJcbiAgICAgICAgcGxheWVyX3RhbmtfcHJlZmFiOiBjYy5QcmVmYWIsXHJcbiAgICAgICAgZmlyZV9mbG93ZXJfcHJlZmFiOiBjYy5QcmVmYWIsXHJcbiAgICAgICAgcHJvcHNfcHJlZmFiOiBjYy5QcmVmYWIsXHJcblxyXG4gICAgICAgIGdhbWVfbWFwX3ByZWZhYjogY2MuUHJlZmFiLFxyXG5cclxuICAgICAgICB0b2FzdDogY2MuUHJlZmFiLFxyXG4gICAgICAgIGdhbWVfcmVzdWx0OiBjYy5QcmVmYWIsXHJcbiAgICAgICAgZ2FtZV9vdmVyOiBjYy5QcmVmYWIsXHJcbiAgICAgICAgZ2FtZV9zdGFnZTogY2MuUHJlZmFiLFxyXG4gICAgICAgIHBvaW50X3ByZWZhYjogY2MuUHJlZmFiLFxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICAvLyBvbkxvYWQgKCkge30sXHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG4gICAgICAgIGNjLnZ2Lkdsb2JhbC5nYW1lID0gdGhpc1xyXG5cclxuICAgICAgICB0aGlzLnN0YXJ0R2FtZSgpXHJcbiAgICB9LFxyXG5cclxuICAgIHN0YXJ0R2FtZSAoKXtcclxuICAgICAgICBjYy52di5HbG9iYWwuc3RhZ2VfaW5mbyA9IGNjLnZ2LkNvbmZpZy5zdGFnZVsnc3RhZ2VfJytjYy52di5Vc2VySW5mby5sZXZlbF0oKVxyXG4gICAgICAgIGNjLnZ2Lkdsb2JhbC5kaWVfdGFuayA9IHtcclxuICAgICAgICAgICAgdGFua18xIDogMCxcclxuICAgICAgICAgICAgdGFua18yIDogMCxcclxuICAgICAgICAgICAgdGFua18zIDogMCxcclxuICAgICAgICAgICAgdGFua180IDogMCxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNjLnZ2Lkdsb2JhbC50aWVxaWFvX3RpbWUgPSBudWxsXHJcbiAgICAgICAgY2MudnYuR2xvYmFsLmRpbmdsZWlfdGltZSA9IG51bGxcclxuXHJcbiAgICAgICAgdGhpcy5pc19wYXVzZSA9IHRydWVcclxuICAgICAgICB0aGlzLmlzX292ZXIgPSB0cnVlXHJcbiAgICAgICAgdGhpcy5pc19lbmVteV90YW5rX3BhdXNlID0gZmFsc2VcclxuICAgICAgICB0aGlzLmlzX3Nob3dfb3ZlciA9IGZhbHNlXHJcblxyXG4gICAgICAgIHRoaXMucHJvcHMgPSBudWxsXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJfZGlyZWN0aW9uID0gVGFnT2ZEaXJlY3Rpb24ubm9cclxuICAgICAgICB0aGlzLmVuZW15X2luZGV4ID0gMFxyXG4gICAgICAgIHRoaXMuZW5lbXlfdGFua19hcnIgPSBbXVxyXG4gICAgICAgIHRoaXMuYnVsbGV0X2FyciA9IFtdXHJcblxyXG4gICAgICAgIHRoaXMuZnJhbWVfY291bnQgPSAwXHJcbiAgICAgICAgY2MudnYuR2xvYmFsLmVuZW15X2NvdW50ID0gMjBcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lX21hcHMuZGVzdHJveUFsbENoaWxkcmVuKClcclxuICAgICAgICB0aGlzLmdhbWVfbWFwID0gY2MuaW5zdGFudGlhdGUodGhpcy5nYW1lX21hcF9wcmVmYWIpXHJcbiAgICAgICAgdGhpcy5nYW1lX21hcHMuYWRkQ2hpbGQodGhpcy5nYW1lX21hcClcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm1hcCA9IHRoaXMuZ2FtZV9tYXAuZ2V0Q29tcG9uZW50KCdnYW1lX21hcCcpXHJcbiAgICAgICAgdGhpcy5tYXAuaW5pdE1hcCgpXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsYXllcil7XHJcbiAgICAgICAgICAgIGNjLnZ2LlVzZXJJbmZvLmxpdmUrK1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIG1vdmVTcGVlZCA6IHRoaXMucGxheWVyLm1vdmVTcGVlZCxcclxuICAgICAgICAgICAgICAgIGZpcmVTcGVlZCA6IHRoaXMucGxheWVyLmZpcmVTcGVlZCxcclxuICAgICAgICAgICAgICAgIHRhbmtfbGV2ZWwgOiB0aGlzLnBsYXllci50YW5rX2xldmVsLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyID0gdGhpcy5tYXAuaW5pdFBsYXllcihkYXRhKVxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcl9kaXJlY3Rpb24gPSBUYWdPZkRpcmVjdGlvbi5ub1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmluaXRWaWV3KClcclxuXHJcbiAgICAgICAgY2Muc3lzdGVtRXZlbnQub24oY2MuU3lzdGVtRXZlbnQuRXZlbnRUeXBlLktFWV9ET1dOLCB0aGlzLm9uS2V5RG93biwgdGhpcyk7XHJcbiAgICAgICAgY2Muc3lzdGVtRXZlbnQub24oY2MuU3lzdGVtRXZlbnQuRXZlbnRUeXBlLktFWV9VUCwgdGhpcy5vbktleVVwLCB0aGlzKTtcclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IGNjLmluc3RhbnRpYXRlKHRoaXMuZ2FtZV9zdGFnZSlcclxuICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQocmVzdWx0KVxyXG4gICAgfSxcclxuXHJcbiAgICBpbml0Vmlldygpe1xyXG4gICAgICAgIGxldCB4ID0gMFxyXG4gICAgICAgIGxldCB5ID0gMFxyXG4gICAgICAgIGxldCBlbmVteXMgPSB0aGlzLmdhbWVfaW5mby5nZXRDaGlsZEJ5TmFtZSgnZW5lbXlzJylcclxuICAgICAgICAvLyBsZXQgaXAgPSB0aGlzLmdhbWVfaW5mby5nZXRDaGlsZEJ5TmFtZSgnaXAnKVxyXG4gICAgICAgIC8vIGxldCBsaXZlX3RhbmsgPSB0aGlzLmdhbWVfaW5mby5nZXRDaGlsZEJ5TmFtZSgnbGl2ZV90YW5rJylcclxuICAgICAgICBsZXQgbGl2ZV9jb3VudCA9IHRoaXMuZ2FtZV9pbmZvLmdldENoaWxkQnlOYW1lKCdsaXZlX2NvdW50JylcclxuICAgICAgICAvLyBsZXQgZmxhZyA9IHRoaXMuZ2FtZV9pbmZvLmdldENoaWxkQnlOYW1lKCdmbGFnJylcclxuICAgICAgICBsZXQgbGV2ZWwgPSB0aGlzLmdhbWVfaW5mby5nZXRDaGlsZEJ5TmFtZSgnbGV2ZWwnKVxyXG4gICAgICAgIHggPS8qIChjYy53aW5TaXplLndpZHRoIC0gdGhpcy5nYW1lX21hcC53aWR0aCkgLyA0ICsqLyB0aGlzLmdhbWVfbWFwLndpZHRoIC8gMiArIDMwXHJcbiAgICAgICAgeSA9IGNjLndpblNpemUuaGVpZ2h0IC8gMiAtIDVcclxuICAgICAgICBmb3IgKGxldCBpPTA7aTxlbmVteXMuY2hpbGRyZW5Db3VudDtpKyspe1xyXG4gICAgICAgICAgICAvLyBpZiAoaSUyPT0wKXtcclxuICAgICAgICAgICAgLy8gICAgIHkgLT0gMTVcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAvLyBsZXQgdGVtcF94ID0geFxyXG4gICAgICAgICAgICAvLyBpZiAoaSUyPT0xKXtcclxuICAgICAgICAgICAgLy8gICAgIHRlbXBfeCAtPSA4XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgLy8gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICAgICB0ZW1wX3ggKz0gOFxyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIGxldCBlbmVteSA9IGVuZW15cy5jaGlsZHJlbltpXVxyXG4gICAgICAgICAgICAvLyBlbmVteS5wb3NpdGlvbiA9IGNjLnYyKHRlbXBfeCwgeSlcclxuICAgICAgICAgICAgZW5lbXkuYWN0aXZlID0gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8Y2MudnYuR2xvYmFsLmVuZW15X2NvdW50O2krKyl7XHJcbiAgICAgICAgICAgIGxldCBlbmVteSA9IGVuZW15cy5jaGlsZHJlbltpXVxyXG4gICAgICAgICAgICBlbmVteS5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB5ID0gMTVcclxuICAgICAgICAvLyBpcC5wb3NpdGlvbiA9IGNjLnYyKHgsIHkpXHJcbiAgICAgICAgLy8gbGl2ZV90YW5rLnBvc2l0aW9uID0gY2MudjIoeC0xMCwgeS0yMClcclxuICAgICAgICAvLyBsaXZlX2NvdW50LnBvc2l0aW9uID0gY2MudjIoeCsxMCwgeS0yMClcclxuXHJcbiAgICAgICAgLy8gZmxhZy5wb3NpdGlvbiA9IGNjLnYyKHgsIHktNjApXHJcbiAgICAgICAgLy8gbGV2ZWwucG9zaXRpb24gPSBjYy52Mih4KzEwLCB5LTgwKVxyXG5cclxuICAgICAgICB4ID0gKGNjLndpblNpemUud2lkdGggLSB0aGlzLmdhbWVfbWFwLndpZHRoKSAvIDQgKyB0aGlzLmdhbWVfbWFwLndpZHRoIC8gMlxyXG4gICAgICAgIHkgPSBjYy53aW5TaXplLmhlaWdodCAqIDAuMjVcclxuICAgICAgICAvLyB0aGlzLmRpcmVjdGlvbi5wb3NpdGlvbiA9IGNjLnYyKC14LCAteSlcclxuICAgICAgICAvLyB0aGlzLmZpcmVfYnRuLnBvc2l0aW9uID0gY2MudjIoeCwgLXkpXHJcblxyXG4gICAgICAgIGxpdmVfY291bnQuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBjYy52di5Vc2VySW5mby5saXZlXHJcbiAgICAgICAgbGV2ZWwuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSBjYy52di5Vc2VySW5mby5sZXZlbFxyXG4gICAgfSxcclxuXHJcbiAgICBpbml0VGFuayAoKXtcclxuICAgICAgICBpZiAoIXRoaXMucGxheWVyKXtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBtb3ZlU3BlZWQgOiAxLjIsXHJcbiAgICAgICAgICAgICAgICBmaXJlU3BlZWQgOiAzLFxyXG4gICAgICAgICAgICAgICAgdGFua19sZXZlbCA6IDNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IHRoaXMubWFwLmluaXRQbGF5ZXIoKVxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcl9kaXJlY3Rpb24gPSBUYWdPZkRpcmVjdGlvbi5ub1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5lbmVteV90YW5rX2Fyci5sZW5ndGggPCA0KXtcclxuICAgICAgICAgICAgdGhpcy5lbmVteV90YW5rX2Fyci5wdXNoKHRoaXMubWFwLmluaXRFbmVteSgpKVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgb25DbGlja0JhY2sgKCl7XHJcbiAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKCdob21lX3NjZW5lJylcclxuICAgIH0sXHJcblxyXG4gICAgY2hlY2tCdWxsZXQgKCl7XHJcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5idWxsZXRfYXJyLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYnVsbGV0X2FycltpXS5pc1ZhbGlkKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnVsbGV0X2Fyci5zcGxpY2UoaSwgMSlcclxuICAgICAgICAgICAgICAgIGktLVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBjaGVja0VuZW15VGFuayAoKXtcclxuICAgICAgICBmb3IgKGxldCBpPTA7aTx0aGlzLmVuZW15X3RhbmtfYXJyLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZW5lbXlfdGFua19hcnJbaV0gfHwgIXRoaXMuZW5lbXlfdGFua19hcnJbaV0ubm9kZSB8fCAhdGhpcy5lbmVteV90YW5rX2FycltpXS5ub2RlLmlzVmFsaWQpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmVteV90YW5rX2Fyci5zcGxpY2UoaSwgMSlcclxuICAgICAgICAgICAgICAgIGktLVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBjaGVja1BsYXllclRhbmsgKCl7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBsYXllciB8fCAhdGhpcy5wbGF5ZXIubm9kZSB8fCAhdGhpcy5wbGF5ZXIubm9kZS5pc1ZhbGlkKXtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIgPSBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBvbktleURvd24gKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBsYXllciB8fCAhdGhpcy5wbGF5ZXIubm9kZSB8fCAhdGhpcy5wbGF5ZXIubm9kZS5pc1ZhbGlkKXtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaChldmVudC5rZXlDb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgY2MubWFjcm8uS0VZLnNwYWNlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIub25GaXJlKClcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgY2MubWFjcm8uS0VZLmxlZnQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcl9kaXJlY3Rpb24gPSBUYWdPZkRpcmVjdGlvbi5sZWZ0XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBjYy5tYWNyby5LRVkuZG93bjpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyX2RpcmVjdGlvbiA9IFRhZ09mRGlyZWN0aW9uLmRvd25cclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgY2MubWFjcm8uS0VZLnJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJfZGlyZWN0aW9uID0gVGFnT2ZEaXJlY3Rpb24ucmlnaHRcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGNhc2UgY2MubWFjcm8uS0VZLnVwOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJfZGlyZWN0aW9uID0gVGFnT2ZEaXJlY3Rpb24udXBcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIFxyXG4gICAgb25LZXlVcCAoZXZlbnQpIHtcclxuICAgICAgICBpZiAoIXRoaXMucGxheWVyIHx8ICF0aGlzLnBsYXllci5ub2RlIHx8ICF0aGlzLnBsYXllci5ub2RlLmlzVmFsaWQpe1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJfZGlyZWN0aW9uID0gVGFnT2ZEaXJlY3Rpb24ubm9cclxuICAgIH0sXHJcblxyXG4gICAgdXBkYXRlKGR0KXtcclxuICAgICAgICBpZiAodGhpcy5pc19wYXVzZSkgcmV0dXJuXHJcbiAgICAgICAgdGhpcy5mcmFtZV9jb3VudCArK1xyXG4gICAgICAgIHRoaXMuaW5pdFZpZXcoKVxyXG4gICAgICAgIHRoaXMuaW5pdFRhbmsoKVxyXG4gICAgICAgIHRoaXMuY2hlY2tCdWxsZXQoKVxyXG4gICAgICAgIHRoaXMuY2hlY2tFbmVteVRhbmsoKVxyXG4gICAgICAgIHRoaXMuY2hlY2tQbGF5ZXJUYW5rKClcclxuXHJcbiAgICAgICAgLy8g6ZOB6ZS5IC0tIEjhur90IHRo4budaSBnaWFuIGPhu6dhIGNo4bupYyBuxINuZyB44bq7bmcgLSBUw7JhIHRow6BuaCBrbyBwaMOhIHbhu6FcclxuICAgICAgICBpZiAoY2MudnYuR2xvYmFsLnRpZXFpYW9fdGltZSl7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKClcclxuICAgICAgICAgICAgaWYgKCh0aW1lIC0gY2MudnYuR2xvYmFsLnRpZXFpYW9fdGltZSkgLyAxMDAwID49IDE1KXtcclxuICAgICAgICAgICAgICAgIHRoaXMubWFwLmJnMi5ub2RlLmFjdGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICBjYy52di5HbG9iYWwudGllcWlhb190aW1lID0gbnVsbFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCh0aW1lIC0gY2MudnYuR2xvYmFsLnRpZXFpYW9fdGltZSkgLyAxMDAwID49IDEwKXtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lX2NvdW50ICUgMjAgPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXAuYmcyLm5vZGUuYWN0aXZlID0gIXRoaXMubWFwLmJnMi5ub2RlLmFjdGl2ZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwLnJlcGFpckhvbWUoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuYmcyLm5vZGUuYWN0aXZlID0gdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOWumumbtyAtLSBuaOG6t3QgxJHGsOG7o2MgY8OhaSDEkeG7k25nIGjhu5MgLSBlbmVteSDEkeG7qW5nIGzhuqFpIGjhur90XHJcbiAgICAgICAgaWYgKGNjLnZ2Lkdsb2JhbC5kaW5nbGVpX3RpbWUpe1xyXG4gICAgICAgICAgICB0aGlzLmlzX2VuZW15X3RhbmtfcGF1c2UgPSB0cnVlXHJcbiAgICAgICAgICAgIGxldCB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKClcclxuICAgICAgICAgICAgaWYgKCh0aW1lIC0gY2MudnYuR2xvYmFsLmRpbmdsZWlfdGltZSkgLyAxMDAwID49IDEwKXtcclxuICAgICAgICAgICAgICAgIGNjLnZ2Lkdsb2JhbC5kaW5nbGVpX3RpbWUgPSBudWxsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzX2VuZW15X3RhbmtfcGF1c2UgPSBmYWxzZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOa4uOaIj+e7k+adnyAtLSB0aHVhXHJcbiAgICAgICAgaWYgKHRoaXMuaXNfb3ZlciAmJiAhdGhpcy5pc19zaG93X292ZXIpe1xyXG4gICAgICAgICAgICB0aGlzLmlzX3Nob3dfb3ZlciA9IHRydWVcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0IDogJ0dBTUUgT1ZFUicsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA6IDFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgdG9hc3QgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnRvYXN0KVxyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQodG9hc3QpXHJcbiAgICAgICAgICAgIHRvYXN0LmdldENvbXBvbmVudCgndG9hc3QnKS5pbml0KGRhdGEpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOiDnOWIqSAtLSB0aOG6r25nXHJcbiAgICAgICAgaWYgKHRoaXMuZW5lbXlfdGFua19hcnIubGVuZ3RoID09IDAgJiYgIGNjLnZ2Lkdsb2JhbC5lbmVteV9jb3VudCA8PSAwICYmICF0aGlzLmlzX3Nob3dfb3Zlcil7XHJcbiAgICAgICAgICAgIHRoaXMuaXNfc2hvd19vdmVyID0gdHJ1ZVxyXG4gICAgICAgICAgICB0aGlzLmlzX292ZXIgPSB0cnVlXHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCgpPT57XHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMgOiAxXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gY2MuaW5zdGFudGlhdGUodGhpcy5nYW1lX3Jlc3VsdClcclxuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZChyZXN1bHQpXHJcbiAgICAgICAgICAgICAgICByZXN1bHQuZ2V0Q29tcG9uZW50KCdnYW1lX3Jlc3VsdCcpLmluaXQoZGF0YSlcclxuICAgICAgICAgICAgfSwgNSlcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyICYmIHRoaXMucGxheWVyLm5vZGUuYWN0aXZlKXtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyX2RpcmVjdGlvbiA9PSBUYWdPZkRpcmVjdGlvbi51cCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlVXAoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucGxheWVyX2RpcmVjdGlvbiA9PSBUYWdPZkRpcmVjdGlvbi5yaWdodCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlUmlnaHQoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucGxheWVyX2RpcmVjdGlvbiA9PSBUYWdPZkRpcmVjdGlvbi5kb3duKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLm1vdmVEb3duKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBsYXllcl9kaXJlY3Rpb24gPT0gVGFnT2ZEaXJlY3Rpb24ubGVmdCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlTGVmdCgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59KTtcclxuIl19