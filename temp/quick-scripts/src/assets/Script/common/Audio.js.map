{"version":3,"sources":["assets\\Script\\common\\Audio.js"],"names":["cc","Class","Component","properties","bgmAudioID","init","getUrl","url","playBGM","index","stopBGM","playSFX","audioUrl","loader","loadRes","AudioClip","err","clip","audioEngine","play","pauseAll","resumeAll","playStart","playFire","playWall","playTuWall","playTank","name","random","parseInt","Math","playGameOver","playResult","playPowerupAppear","playPowerupPick"],"mappings":";;;;;;AAAA;AACA;AACA;AACAA,EAAE,CAACC,KAAK,CAAC;EACL,WAASD,EAAE,CAACE,SAAS;EAErBC,UAAU,EAAE;IACR;IACA;IACA;;IAEAC,UAAU,EAAC,CAAC,CAAC,CAAC;EAClB,CAAC;;EAED;EACAC,IAAI,EAAE,SAAAA,KAAA,EAAY,CAElB,CAAC;EACD,WACAC,MAAM,WAAAA,OAACC,GAAG,EAAC;IACP;IACA,OAAO,QAAQ,GAAGA,GAAG,EAAC;EAC1B,CAAC;EACD,WACAC,OAAO,WAAAA,QAACC,KAAK,EAAC;;IAEV;IACA;IACA;IACA;IACA;EAAA,CACH;EACDC,OAAO,WAAAA,QAAA,EAAE;IACL;EAAA,CACH;EACD;EACAC,OAAO,EAAC,SAAAA,QAASJ,GAAG,EAAC;IACjB,IAAIK,QAAQ,GAAG,IAAI,CAACN,MAAM,CAACC,GAAG,CAAC;IAC/B;IACAP,EAAE,CAACa,MAAM,CAACC,OAAO,CAACF,QAAQ,EAAEZ,EAAE,CAACe,SAAS,EAAE,UAAUC,GAAG,EAAEC,IAAI,EAAE;MAC3DjB,EAAE,CAACkB,WAAW,CAACC,IAAI,CAACF,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;IACvC,CAAC,CAAC;EACN,CAAC;EACD,SACAG,QAAQ,WAAAA,SAAA,EAAE;IACNpB,EAAE,CAACkB,WAAW,CAACE,QAAQ,EAAE;EAC7B,CAAC;EACD,SACAC,SAAS,WAAAA,UAAA,EAAE;IACPrB,EAAE,CAACkB,WAAW,CAACG,SAAS,EAAE;EAC9B,CAAC;EAEDC,SAAS,WAAAA,UAAA,EAAE;IACP,IAAI,CAACX,OAAO,CAAC,aAAa,CAAC;EAC/B,CAAC;EAEDY,QAAQ,WAAAA,SAAA,EAAE;IACN,IAAI,CAACZ,OAAO,CAAC,aAAa,CAAC;EAC/B,CAAC;EAEDa,QAAQ,WAAAA,SAAA,EAAG;IACP,IAAI,CAACb,OAAO,CAAC,cAAc,CAAC;EAChC,CAAC;EAEDc,UAAU,WAAAA,WAAA,EAAG;IACT,IAAI,CAACd,OAAO,CAAC,cAAc,CAAC;EAChC,CAAC;EAEDe,QAAQ,WAAAA,SAAA,EAAG;IACP,IAAIC,IAAI,GAAG,YAAY;IACvB,IAAIC,MAAM,GAAGC,QAAQ,CAACC,IAAI,CAACF,MAAM,EAAE,GAAG,EAAE,CAAC;IACzC,IAAIA,MAAM,IAAI,CAAC,EAAC;MACZD,IAAI,IAAI,CAAC;IACb,CAAC,MACI;MACDA,IAAI,IAAI,CAAC;IACb;IACA,IAAI,CAAChB,OAAO,CAACgB,IAAI,CAAC;EACtB,CAAC;EAEDI,YAAY,WAAAA,aAAA,EAAE;IACV,IAAI,CAACpB,OAAO,CAAC,WAAW,CAAC;EAC7B,CAAC;EAEDqB,UAAU,WAAAA,WAAA,EAAG;IACT,IAAI,CAACrB,OAAO,CAAC,cAAc,CAAC;EAChC,CAAC;EAEDsB,iBAAiB,WAAAA,kBAAA,EAAG;IAChB,IAAI,CAACtB,OAAO,CAAC,gBAAgB,CAAC;EAClC,CAAC;EAEDuB,eAAe,WAAAA,gBAAA,EAAG;IACd,IAAI,CAACvB,OAAO,CAAC,cAAc,CAAC;EAChC;AACJ,CAAC,CAAC","sourceRoot":"/","sourcesContent":["/**\r\n * 音频控制类\r\n */\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // bgmVolume:1.0,//背景音量\r\n        // sfxVolume:1.0,//音效音量\r\n        // isOpenSound:true,//是否开始声音\r\n\r\n        bgmAudioID:-1,//背景音乐id\r\n    },\r\n\r\n    // use this for initialization\r\n    init: function () {\r\n        \r\n    },\r\n    /**获取声音地址*/\r\n    getUrl(url){\r\n        // return cc.url.raw(\"resources/sound/\" + url + \".ogg\");\r\n        return \"sound/\" + url //+ \".ogg\"\r\n    },\r\n    /**播放背景音乐*/\r\n    playBGM(index){\r\n        \r\n        // let audioUrl = this.getUrl('bg'+index);\r\n        // if(this.bgmAudioID >= 0){\r\n        //     cc.audioEngine.stop(this.bgmAudioID);\r\n        // }\r\n        // this.bgmAudioID = cc.audioEngine.play(audioUrl, true, 1);\r\n    },\r\n    stopBGM(){\r\n        // cc.audioEngine.stop(this.bgmAudioID);\r\n    },\r\n    /**播放音效*/\r\n    playSFX:function(url){\r\n        let audioUrl = this.getUrl(url);\r\n        // cc.audioEngine.play(audioUrl, false, 1);\r\n        cc.loader.loadRes(audioUrl, cc.AudioClip, function (err, clip) {\r\n            cc.audioEngine.play(clip, false, 1);\r\n        });\r\n    },\r\n    /**暂停所有*/\r\n    pauseAll(){\r\n        cc.audioEngine.pauseAll();\r\n    },\r\n    /**重启所有*/\r\n    resumeAll(){\r\n        cc.audioEngine.resumeAll();\r\n    },\r\n   \r\n    playStart(){\r\n        this.playSFX('stage_start')\r\n    },\r\n\r\n    playFire(){\r\n        this.playSFX('bullet_shot')\r\n    },\r\n\r\n    playWall (){\r\n        this.playSFX('bullet_hit_1')\r\n    },\r\n\r\n    playTuWall (){\r\n        this.playSFX('bullet_hit_2')\r\n    },\r\n\r\n    playTank (){\r\n        let name = 'explosion_'\r\n        let random = parseInt(Math.random() * 10)\r\n        if (random <= 5){\r\n            name += 1\r\n        }\r\n        else {\r\n            name += 2\r\n        }\r\n        this.playSFX(name)\r\n    },\r\n\r\n    playGameOver(){\r\n        this.playSFX('game_over')\r\n    },\r\n\r\n    playResult (){\r\n        this.playSFX('statistics_1')\r\n    },\r\n\r\n    playPowerupAppear (){\r\n        this.playSFX('powerup_appear')\r\n    },\r\n\r\n    playPowerupPick (){\r\n        this.playSFX('powerup_pick')\r\n    },\r\n});\r\n"]}